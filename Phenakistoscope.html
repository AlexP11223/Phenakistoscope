<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>

    <style type="text/css">

        html {
            display: table;
            margin: auto;
            margin-top: -260px;
        }
        body{
            display: table-cell;
        }

    </style>
</head>
<body>
    <img id="PhenakistoscopeImg" src="Phenakistoscope.png"/>

    <div style="margin-top: 50px">
        <div>
            <button id="startStopBtn">Stop</button>
        </div>
        <div>
            <label>Speed</label>
            <input id="speedRange" type="range" min="0" max="1000" value="100" />
        </div>
    </div>

    <script type="text/javascript">
        function browserCompatible() {
            return 'transform' in document.body.style;
        }

        if (!browserCompatible()) {
            alert('Looks like you are using an old web browser, such as Internet Explorer 8-9. This page will not work properly, please use Chrome, Firefox or IE 10+');
        }


        var imageCount = 11;

        var rotationDeg = 360/imageCount;

        var deg = 0;

        var lastRotationTimestamp = null;

        function step(timestamp) {
            if (!lastRotationTimestamp || (Math.abs(lastRotationTimestamp - timestamp) > 150)) {
                lastRotationTimestamp = timestamp;

                deg += rotationDeg;

                document.getElementById('PhenakistoscopeImg').setAttribute('style', 'transform: rotate(' + deg + 'deg); ');
            }

            window.requestAnimationFrame(step);
        }

        result = CSS.supports("display", "flex");


        window.requestAnimationFrame(step);

    </script>
</body>
</html>